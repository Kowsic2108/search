<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Click-to-Expand Search Box</title>
  <style>
    body {
      background: linear-gradient(135deg, #0d1117, #1f2937);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: "Poppins", sans-serif;
    }

    .search-container {
      position: relative;
      display: flex;
      align-items: center;
    }

    /* üîç Search button */
    .search-btn {
      background: #58a6ff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 22px;
      transition: all 0.4s ease;
      box-shadow: 0 0 10px rgba(88, 166, 255, 0.3);
    }

    .search-btn:hover {
      background: #1f6feb;
      transform: scale(1.1) rotate(10deg);
    }

    /* üîç Input field (hidden by default) */
    .search-box {
      width: 0;
      opacity: 0;
      padding: 12px 15px;
      border: none;
      border-radius: 25px;
      outline: none;
      background: #161b22;
      color: #fff;
      font-size: 16px;
      margin-left: 10px;
      transition: all 0.5s ease;
      box-shadow: 0 0 10px rgba(88, 166, 255, 0.2);
    }

    /* When active (expanded) */
    .active {
      width: 250px;
      opacity: 1;
      box-shadow: 0 0 20px #58a6ff, 0 0 40px rgba(88,166,255,0.4);
    }

    /* Floating emoji */
    .emoji {
      position: absolute;
      font-size: 22px;
      animation: floatUp 1.5s ease-out forwards;
      pointer-events: none;
      opacity: 0.9;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) scale(1.5);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <div class="search-container">
    <button class="search-btn" id="searchBtn">üîç</button>
    <form action="https://formspree.io/f/mpwoyoke" method="POST">
      <input type="text" id="searchBox" class="search-box" name="search_query" placeholder="Type and press Enter..." required>
    </form>
  </div>

  <script>
    const btn = document.getElementById("searchBtn");
    const input = document.getElementById("searchBox");
    const emojis = ["‚ú®", "üî•", "üí°", "üöÄ", "üéâ", "üåà", "‚ö°"];

    // Toggle search bar open/close
    btn.addEventListener("click", () => {
      input.classList.toggle("active");
      if (input.classList.contains("active")) {
        input.focus();
      } else {
        input.blur();
      }
    });

    // Close if clicked outside
    document.addEventListener("click", (e) => {
      if (!e.target.closest(".search-container")) {
        input.classList.remove("active");
      }
    });

    // Floating emoji effect while typing
    input.addEventListener("input", () => {
      if (!input.classList.contains("active")) return;
      const emoji = document.createElement("span");
      emoji.classList.add("emoji");
      emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      const rect = input.getBoundingClientRect();
      emoji.style.left = rect.left + Math.random() * rect.width + "px";
      emoji.style.top = rect.top + window.scrollY - 10 + "px";
      document.body.appendChild(emoji);
      setTimeout(() => emoji.remove(), 1500);
    });
  </script>

</body>
</html>
